# 리액트에서 폼 다루기

## React에서 폼을 다루기 위한 권장 방법 

일반적인 HTML에서 입력 요소를 다룰 때는 페이지의 DOM이 해당 요소의 값을 DOM 노드에서 관리한다. document.getElementById('email').value 또는 jQuery 메서드를 사용해서 값에 접근할 수 있따. 즉, DOM을 저장소로 사용한다.

React 공식 문서에는 "React 컴포넌트는 초기화 시점은 물론 어느 시점에서든지 뷰의 상태를 표현해야 한다."라고 설명한다. React는 선언형 스타일을 사용하여 UI를 묘사함으로써 모든 것을 단순하게 유지한다. 즉, React는 UI가 결과적으로 어떻게 보여야 할지에 대해 묘사한다. 

전통적인 HTML의 폼 요소는 사용자 입력에 의해 요소의 상태가 변경된다. 그렇지만 React는 UI를 묘사하기 위해 선언형 스타일을 사용하므로 상태를 적절히 반영하려면 입력이 동적이어야 한다.

따라서 컴포넌트 상태를 자바스크립트에서 관리하지 않고, 뷰와 동기화하지 않으면 문제가 나타난다. 내부 상태와 뷰가 다른 경우가 발생할 수 있다. React는 변경된 상태를 알 수 없으므로 온갖 문제와 버그에 직면하게 되고, React의 단순한 철학을 무너뜨린다. 가장 좋은 방법은 React의 render()메서드를 폼 요소의 데이터를 포함한 실제 DOM에 최대한 밀접하게 유지하는 것이다. 

``` 
render() {
    return <input type="text" name="title" value={this.state.title}>
}
```

위와 같이 작성할 경우 React는 사용자가 폼 요소에 무엇을 작성한다는 것을 알 수 없다. 그러므로 다음과 같이 작성해야 한다.

```
render() {
    return <input type="text" name="title" value={this.state.titel} onChange={this.handleChange.bind(this)}> 
}
```

### React에서 폼과 이벤트 정의하기

React는 표준 React DOM 이벤트와 함꼐, 폼 요소를 위한 세 가지 이벤트를 지원한다. 
- onChange : 폼의 입력 요소에 변경이 생기면 발생한다.
- onInput : &lt;textarea&gt;&lt;input&gt; 요소의 값이 변경될 때 발생한다. React 팀은 이 이벤트의 사용을 추천하지 않는다.
- onSubmit: 폼 제출 시 발생한다. 흔히 Enter를 눌렀을때 발생한다.


### 폼 요소 정의하기

HTML은 거의 모든 입력 영역을 네 가지 요소, &lt;input&gt;&lt;textarea&gt;&lt;select&gt;&lt;option&gt;을 사용해서 구현할 수 있다. 

React는 변경 가능한 속성인 value, checked, selected를 두어 폼 요소를 특별하게 다루고 있다. 이 특별한, 변경 가능한 속성은 대화형 속성 이라고 부른다. 

변경할수있는 대화형 속성은 다음과 같다. 폼 요소에 연결한 onChange 같은 이벤트에서 이 속성을 읽을 수 있다. 
- value :  &lt;input&gt;&lt;textarea&gt;&lt;select&gt; 에 적용된다.
- checked : &lt;input&gt;에 type="checkbox" 또는 type="radio"인 경우 적용된다.
- selected : &lt;selected&gt;와 함꼐 &lt;option&gt;을 사용할 때 적용된다.

--- 
# 폼을 다루는 다른 방법

일반적으로 비제어 컴포넌트를 사용하려면 폼에서 제출 이벤트를 정의해야 한다. 보통 버튼에 onClick 이벤트나 폼의 onSubmit 이벤트를 사용한다. 이벤트 핸들러를 추가한 뒤에는 두 가지 방법 중에 선택할 수 있다.
- 제어 엘리먼트를 사용할 때처럼 변경을 감지하여 상태에 저장하지만, 상태를 value에 사용하지 않고 제출 시에만 사용하는 방식(이것은 결국 제어하지 않는 방식이다.)
- 변경을 감지하지 않는 방식

## 비제어 엘리먼트에서 이벤트를 감지하지 않는 경우

예를 들어 폼을 제출할 때처럼 모든 값이 필요한 경우에 문제가 있다. 변경을 감지하는 방식일 때는 모든 데이터가 상태에 저장되어 있다. 비제어 엘리먼트에서 변경을 감지하지 않기로 하면 데이터는 DOM에 그대로 남는다. 데이터를 자바스크립트 객체로 가져오려면 참조를 이용해야 한다. 

## 값에 참조로 접근하기

비제어 컴포넌트를 다룰 때는 onChange 같은 이벤트를 이용해 입력을 감지하지 않으므로 refs를 통해 참조로 값에 접근한다. 그렇지만 참조가 이 특정 패턴에만 적용되는 것은 아니다. 참조를 사용하는 것이 안티패턴으로 여겨져서 눈살을 찌푸릴 수도 있겠지만, 참조 사용이 적합한 상황이라면 어디에나 적용할 수 있다. React 엘리먼트를 적절히 정의한다면 뷰의 상태와 내부 상태가 동기화되므로 참조를 사용할 필요가 거의 없다. 참조를 사용하려면 다음 두 가지 작업이 필요하다.
- render 메서드에서 반환하는 엘리먼트의 ref 속성에 문자열을 전달하는 경우 카멜 표기법으로 작성되어 있어야 한다. 예를들어 email:&lt;input ref="userEmail"/&gt; 처럼 작성한다.
- 지정한 이름을 다른 메서드에서 DOM 인스턴스에 접근한다. 예를 들어 이벤트 핸들러에서 this.refs.NAME이 this.refs.userEmail이다.

